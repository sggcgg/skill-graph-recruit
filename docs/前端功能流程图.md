# 🗺️ 智能招聘分析系统 - 前端功能流程图

> **文档说明**: 完整的前端页面跳转关系和功能交互流程

---

## 📊 一、整体架构流程图

```mermaid
graph TB
    Start[用户访问系统] --> Home[首页/数据大屏]
    
    Home --> Search[岗位搜索页]
    Home --> Graph[技能图谱页]
    Home --> AI[AI智能助手]
    Home --> User[用户中心]
    
    Search --> JobDetail[岗位详情]
    Search --> AIAnalysis[AI岗位分析]
    
    Graph --> SkillDetail[技能详情]
    Graph --> LearningPath[学习路径]
    
    AI --> Recommend[岗位推荐]
    AI --> GapAnalysis[技能差距分析]
    
    User --> Resume[简历管理]
    User --> Skills[技能清单]
    User --> Favorites[收藏岗位]
    User --> Report[匹配报告]
    
    JobDetail --> Search
    SkillDetail --> Graph
    Resume --> AIOptimize[AI简历优化]
    
    style Home fill:#3b82f6,stroke:#2563eb,stroke-width:3px,color:#fff
    style AI fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
    style Search fill:#10b981,stroke:#059669,stroke-width:2px,color:#fff
    style Graph fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#fff
    style User fill:#ef4444,stroke:#dc2626,stroke-width:2px,color:#fff
```

---

## 🏠 二、首页交互流程

```mermaid
graph LR
    A[进入首页] --> B{用户操作}
    
    B -->|输入技能| C[智能搜索]
    B -->|点击数据卡片| D[查看统计详情]
    B -->|点击词云技能| E[跳转技能图谱]
    B -->|点击薪资图表| F[跳转搜索页并筛选]
    B -->|点击快速开始| G[AI智能匹配]
    
    C --> H[展示搜索结果]
    D --> I[弹出数据详情弹窗]
    E --> J[定位到技能节点]
    F --> K[显示筛选结果]
    G --> L[AI分析并推荐岗位]
    
    style A fill:#667eea
    style G fill:#8b5cf6
    style L fill:#764ba2
```

### 首页关键交互点

1. **Hero区搜索框**
   - 输入监听 → 自动补全建议
   - 点击搜索 → 跳转搜索页
   - 点击AI搜索 → 调用AI语义分析

2. **数据卡片**
   - Hover显示详细说明
   - 点击展开数据趋势图

3. **技能词云**
   - Hover放大技能标签
   - 点击跳转到技能图谱并聚焦该技能

4. **薪资分布图**
   - Hover显示详细数据
   - 点击柱状图跳转到搜索页并应用城市筛选

---

## 🔍 三、岗位搜索页流程

```mermaid
graph TB
    Start[进入搜索页] --> Input[输入搜索关键词]
    
    Input --> Validate{关键词类型判断}
    Validate -->|普通搜索| NormalSearch[关键词匹配]
    Validate -->|AI搜索| AISearch[语义理解]
    
    NormalSearch --> API1[调用搜索API]
    AISearch --> API2[调用AI分析API]
    
    API1 --> Results[展示搜索结果]
    API2 --> Results
    
    Results --> Filter[应用筛选器]
    Filter --> Update[更新结果列表]
    
    Update --> User{用户操作}
    User -->|点击岗位| JobDetail[查看岗位详情]
    User -->|AI分析| AIAnalyze[AI岗位分析]
    User -->|调整筛选| Filter
    User -->|滚动底部| LoadMore[加载更多]
    
    JobDetail --> Back1[返回搜索页]
    AIAnalyze --> ShowAnalysis[弹出分析弹窗]
    ShowAnalysis --> Back2[返回搜索页]
    LoadMore --> Update
    
    style AISearch fill:#8b5cf6
    style AIAnalyze fill:#8b5cf6
    style Results fill:#10b981
```

### 搜索页状态管理

```mermaid
stateDiagram-v2
    [*] --> 初始状态
    初始状态 --> 加载中: 发起搜索
    加载中 --> 展示结果: 数据返回
    加载中 --> 错误状态: 请求失败
    
    展示结果 --> 筛选中: 用户调整筛选
    筛选中 --> 加载中: 重新请求
    
    展示结果 --> 查看详情: 点击岗位
    查看详情 --> 展示结果: 返回列表
    
    展示结果 --> AI分析中: 点击AI分析
    AI分析中 --> 展示结果: 关闭分析
    
    错误状态 --> 初始状态: 重试
```

---

## 🕸️ 四、技能图谱页流程

```mermaid
graph TB
    Start[进入图谱页] --> Load[加载图谱数据]
    Load --> Init[初始化D3/ECharts]
    Init --> Render[渲染节点和关系]
    
    Render --> Idle[空闲状态/等待交互]
    
    Idle --> Click{用户交互类型}
    
    Click -->|点击节点| Select[选中节点]
    Click -->|悬停节点| Hover[显示Tooltip]
    Click -->|拖拽节点| Drag[移动节点位置]
    Click -->|搜索技能| Search[定位节点]
    Click -->|缩放| Zoom[调整视图]
    
    Select --> Highlight[高亮关联节点]
    Highlight --> Panel[显示详情面板]
    Panel --> Actions{用户操作}
    
    Actions -->|查看学习路径| Path[生成学习路径]
    Actions -->|查看相关岗位| Jobs[跳转搜索页]
    Actions -->|关闭面板| Idle
    
    Hover --> ShowTip[显示简要信息]
    ShowTip --> Idle
    
    Drag --> UpdatePos[更新图谱布局]
    UpdatePos --> Idle
    
    Search --> Locate[聚焦目标节点]
    Locate --> Select
    
    Zoom --> UpdateView[更新渲染范围]
    UpdateView --> Idle
    
    style Select fill:#8b5cf6
    style Highlight fill:#f59e0b
    style Panel fill:#10b981
```

### 图谱交互矩阵

| 交互操作 | 触发方式 | 视觉反馈 | 后续操作 |
|---------|---------|---------|---------|
| 选中节点 | 单击 | 节点放大+高亮+关联线高亮 | 显示详情面板 |
| 悬停节点 | Hover | 节点轻微放大+显示Tooltip | 无 |
| 拖拽节点 | 按住拖动 | 实时跟随鼠标移动 | 更新布局 |
| 搜索技能 | 输入框搜索 | 平滑移动视图+节点闪烁 | 自动选中 |
| 缩放视图 | 滚轮/手势 | 平滑缩放动画 | 无 |
| 双击节点 | 双击 | 展开二级关联 | 加载关联数据 |

---

## 💬 五、AI助手对话流程

```mermaid
sequenceDiagram
    participant U as 用户
    participant UI as 前端界面
    participant API as 后端API
    participant LLM as 通义千问API
    
    U->>UI: 输入问题
    UI->>UI: 验证输入
    UI->>U: 显示"用户消息气泡"
    UI->>API: 发送对话请求
    UI->>U: 显示"AI思考中..."
    
    API->>LLM: 调用通义千问API
    LLM-->>API: 流式返回结果
    
    loop 流式输出
        API-->>UI: 返回部分文本
        UI->>U: 打字机动画展示
    end
    
    API-->>UI: 返回完成标志
    UI->>UI: 渲染操作按钮
    UI->>U: 显示完整回复
    
    alt 用户点击操作按钮
        U->>UI: 点击"查看岗位"
        UI->>API: 请求相关岗位
        API-->>UI: 返回岗位列表
        UI->>U: 渲染岗位卡片
    end
```

### AI对话状态机

```mermaid
stateDiagram-v2
    [*] --> 空闲状态
    空闲状态 --> 用户输入中: 用户开始输入
    用户输入中 --> 发送中: 点击发送
    
    发送中 --> AI思考中: 请求成功
    发送中 --> 错误: 请求失败
    
    AI思考中 --> 流式输出中: 开始接收响应
    流式输出中 --> 完成状态: 输出完毕
    
    完成状态 --> 空闲状态: 用户继续提问
    完成状态 --> 执行操作: 点击操作按钮
    
    执行操作 --> 空闲状态: 操作完成
    错误 --> 空闲状态: 重试
```

### 快速问题流程

```mermaid
graph LR
    A[显示快速问题] --> B{用户点击}
    B -->|我适合什么岗位| C[调用技能匹配API]
    B -->|技能差距分析| D[调用差距分析API]
    B -->|薪资预期分析| E[调用薪资预测API]
    B -->|学习路径规划| F[调用路径规划API]
    
    C --> G[展示推荐岗位]
    D --> H[展示雷达图]
    E --> I[展示薪资图表]
    F --> J[展示学习路线图]
    
    style B fill:#8b5cf6
```

---

## 👤 六、用户中心页流程

```mermaid
graph TB
    Start[进入用户中心] --> Menu[显示侧边菜单]
    Menu --> Tab{选择标签页}
    
    Tab -->|我的简历| Resume[简历管理]
    Tab -->|技能清单| Skills[技能清单]
    Tab -->|收藏岗位| Fav[收藏列表]
    Tab -->|匹配报告| Report[数据报告]
    
    Resume --> Edit[编辑简历表单]
    Edit --> Actions1{操作类型}
    Actions1 -->|保存| Save[调用保存API]
    Actions1 -->|预览| Preview[生成简历PDF]
    Actions1 -->|AI优化| AIOptimize[调用AI优化API]
    
    AIOptimize --> Suggestions[展示优化建议]
    Suggestions --> Apply[应用建议]
    Apply --> Edit
    
    Skills --> Display[展示技能雷达图]
    Display --> SkillActions{用户操作}
    SkillActions -->|添加技能| AddSkill[添加技能表单]
    SkillActions -->|编辑掌握度| EditLevel[调整进度条]
    SkillActions -->|查看学习资源| Resources[跳转学习资源]
    
    Fav --> FavList[显示收藏岗位]
    FavList --> FavActions{用户操作}
    FavActions -->|查看详情| JobDetail[岗位详情]
    FavActions -->|取消收藏| RemoveFav[删除收藏]
    
    Report --> Charts[渲染数据图表]
    Charts --> ReportActions{用户操作}
    ReportActions -->|导出报告| Export[生成PDF]
    ReportActions -->|查看趋势| Trend[展开详细趋势]
    
    style AIOptimize fill:#8b5cf6
    style Resume fill:#10b981
    style Skills fill:#f59e0b
```

---

## 📱 七、移动端交互流程

```mermaid
graph TB
    Start[移动端首页] --> Nav{底部导航}
    
    Nav -->|首页| Home[首页]
    Nav -->|搜索| Search[搜索页]
    Nav -->|AI| AI[AI助手]
    Nav -->|我的| User[用户中心]
    
    Home --> Swipe{手势操作}
    Swipe -->|左右滑动| Cards[切换数据卡片]
    Swipe -->|下拉| Refresh[刷新数据]
    Swipe -->|点击功能卡| Jump[跳转功能页]
    
    Search --> Mobile1[移动端搜索]
    Mobile1 --> Filter[展开筛选抽屉]
    Filter --> Apply[应用筛选]
    
    AI --> Chat[对话界面]
    Chat --> Voice{语音输入}
    Voice -->|录音| Record[语音识别]
    Voice -->|文字| Text[文本输入]
    
    User --> Profile[个人资料]
    Profile --> Menu[侧边抽屉菜单]
    
    style Home fill:#3b82f6
    style AI fill:#8b5cf6
```

---

## 🔄 八、核心数据流转图

```mermaid
graph LR
    A[用户操作] --> B[前端组件]
    B --> C[Pinia状态管理]
    C --> D[Axios HTTP请求]
    D --> E[FastAPI后端]
    
    E --> F{请求类型}
    F -->|搜索| G[Neo4j图数据库]
    F -->|语义搜索| H[ChromaDB向量库]
    F -->|AI对话| I[通义千问API]
    
    G --> J[返回结果]
    H --> J
    I --> J
    
    J --> K[响应处理]
    K --> L[更新状态]
    L --> M[重新渲染]
    M --> N[用户看到结果]
    
    style E fill:#10b981
    style I fill:#8b5cf6
```

---

## 🎯 九、关键功能详细流程

### 9.1 智能搜索流程

```mermaid
graph TB
    A[用户输入: "我想做AI工程师"] --> B{输入类型识别}
    
    B -->|关键词搜索| C[分词处理]
    B -->|自然语言| D[NLP语义分析]
    
    C --> E[关键词匹配]
    D --> F[意图识别]
    
    F --> G[提取技能要求]
    G --> H[调用向量检索]
    
    E --> I[Neo4j图谱查询]
    H --> I
    
    I --> J[计算匹配度]
    J --> K[排序筛选]
    K --> L[返回Top N结果]
    
    L --> M[前端展示]
    M --> N[用户查看]
    
    N --> O{用户操作}
    O -->|点击岗位| P[查看详情]
    O -->|AI分析| Q[深度分析]
    O -->|调整筛选| A
    
    style D fill:#8b5cf6
    style Q fill:#8b5cf6
```

### 9.2 技能差距分析流程

```mermaid
sequenceDiagram
    participant U as 用户
    participant F as 前端
    participant B as 后端
    participant N as Neo4j
    participant A as AI模型
    
    U->>F: 点击"技能差距分析"
    F->>B: 请求分析(用户技能+目标岗位)
    B->>N: 查询岗位所需技能
    N-->>B: 返回技能列表
    
    B->>B: 对比用户已有技能
    B->>B: 计算差距
    
    B->>A: 请求学习建议
    A-->>B: 返回学习路径
    
    B-->>F: 返回分析结果
    F->>F: 渲染雷达图
    F->>F: 渲染差距列表
    F->>F: 渲染学习建议
    F->>U: 展示完整分析
```

### 9.3 AI简历优化流程

```mermaid
graph TB
    A[用户简历内容] --> B[前端收集数据]
    B --> C[发送到后端]
    C --> D[提取关键信息]
    
    D --> E[构建优化Prompt]
    E --> F[调用通义千问API]
    
    F --> G[生成优化建议]
    G --> H{建议类型}
    
    H -->|补充技能| I[推荐补充技能]
    H -->|项目描述| J[优化项目表述]
    H -->|量化成果| K[添加量化数据]
    H -->|关键词| L[SEO关键词优化]
    
    I --> M[汇总建议]
    J --> M
    K --> M
    L --> M
    
    M --> N[返回前端]
    N --> O[逐条展示建议]
    O --> P{用户操作}
    
    P -->|应用单条| Q[更新对应字段]
    P -->|应用全部| R[批量更新]
    P -->|忽略| S[不做修改]
    
    style F fill:#8b5cf6
```

---

## 🎨 十、页面跳转导航图

```
首页 ─────┐
          ├───→ 搜索页 ───→ 岗位详情 ───→ AI分析弹窗
          │                    ↓
          │                收藏按钮 ───→ 用户中心(收藏列表)
          │
          ├───→ 图谱页 ───→ 技能详情面板 ───→ 学习路径
          │                    ↓
          │                相关岗位 ───→ 搜索页
          │
          ├───→ AI助手 ───→ 推荐结果 ───→ 岗位列表
          │         ↓
          │     历史对话
          │
          └───→ 用户中心 ───┬───→ 简历管理 ───→ AI优化
                            ├───→ 技能清单 ───→ 学习资源
                            ├───→ 收藏岗位 ───→ 岗位详情
                            └───→ 匹配报告 ───→ 导出PDF
```

---

## 📊 十一、组件复用关系图

```mermaid
graph TB
    Layout[布局组件] --> Header[顶部导航栏]
    Layout --> Footer[底部信息栏]
    Layout --> Sidebar[侧边栏]
    
    Common[公共组件] --> Card[玻璃卡片]
    Common --> Button[AI按钮]
    Common --> Tag[技能标签]
    Common --> Input[搜索输入框]
    Common --> Loading[加载动画]
    
    Chart[图表组件] --> Radar[技能雷达图]
    Chart --> Bar[薪资柱状图]
    Chart --> Line[趋势折线图]
    Chart --> Cloud[技能词云]
    
    Business[业务组件] --> JobCard[岗位卡片]
    Business --> SkillNode[技能节点]
    Business --> ChatBubble[对话气泡]
    Business --> FilterPanel[筛选面板]
    
    Header --> Search[全局搜索]
    Header --> UserMenu[用户菜单]
    
    JobCard --> Tag
    JobCard --> Button
    
    Search --> Input
    Search --> Button
    
    style Common fill:#3b82f6
    style Chart fill:#10b981
    style Business fill:#f59e0b
```

---

## 🚀 十二、性能优化流程

```mermaid
graph TB
    A[页面请求] --> B{路由判断}
    B -->|首页| C[预加载关键数据]
    B -->|其他页| D[按需加载]
    
    C --> E[骨架屏显示]
    D --> E
    
    E --> F[数据请求]
    F --> G{数据大小}
    
    G -->|小数据| H[直接渲染]
    G -->|大数据| I[虚拟滚动]
    
    H --> J[缓存结果]
    I --> J
    
    J --> K[页面渲染完成]
    K --> L[懒加载图片]
    K --> M[懒加载图表]
    
    L --> N[完全加载]
    M --> N
```

---

## 📝 十三、错误处理流程

```mermaid
graph TB
    A[发起请求] --> B{请求结果}
    B -->|成功| C[正常渲染]
    B -->|失败| D{错误类型}
    
    D -->|网络错误| E[显示网络错误提示]
    D -->|超时| F[显示超时提示]
    D -->|服务器错误| G[显示服务器错误]
    D -->|权限错误| H[跳转登录页]
    
    E --> I[重试按钮]
    F --> I
    G --> I
    
    I --> J{用户点击重试}
    J -->|是| A
    J -->|否| K[返回上一页]
    
    H --> L[登录后返回]
```

---

## 🎯 总结

### 核心流程特点

1. **用户体验优先**
   - 流畅的页面跳转
   - 实时反馈
   - 错误处理完善

2. **AI能力突出**
   - 多处AI分析入口
   - 智能推荐无处不在
   - 对话式交互

3. **数据驱动**
   - 实时数据更新
   - 可视化展示
   - 智能缓存

4. **性能优化**
   - 按需加载
   - 虚拟滚动
   - 骨架屏

### 可展示的技术深度

- 完整的前端架构设计
- 复杂的状态管理
- 流畅的交互体验
- 企业级的错误处理

---

**流程图设计完成！** 🎉
